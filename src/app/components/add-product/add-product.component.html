<div class="container">
  <form [formGroup]="addProductForm" (ngSubmit)="onSubmit()">
    <div>
      <label for="title">Product title:</label>
      <input id="title" formControlName="title" type="text" />
      <div *ngIf="f.title.touched && f.title.invalid">
        <small *ngIf="f.title.errors?.['required']"
          >Your product must have a title, it's required</small
        >
      </div>
    </div>

    <div>
      <label for="price">Product price:</label>
      <input id="price" formControlName="price" type="number" />
      <div *ngIf="f.price.touched && f.price.invalid">
        <small *ngIf="f.price.errors?.['required']"
          >Your product must have a price, nothing is for free</small
        >
      </div>
    </div>

    <div>
      <label for="description">Product description:</label>
      <textarea
        id="description"
        formControlName="description"
        type="text"
        cols="30"
        rows="10"
      ></textarea>
      <div *ngIf="f.description.touched && f.description.invalid">
        <small *ngIf="f.description.errors?.['required']"
          >Description for the product is required</small
        >
      </div>
    </div>

    <div>
      <label for="image">Image Url:</label>
      <input id="image" formControlName="image" type="text" />
      <div *ngIf="f.image.touched && f.image.invalid">
        <small *ngIf="f.image.errors?.['required']"
          >An image url is required</small
        >
      </div>
    </div>

    <div>
      <label for="category">Product Category:</label>
      <input id="category" formControlName="category" type="text" />
      <div *ngIf="f.category.touched && f.category.invalid">
        <small *ngIf="f.category.errors?.['required']"
          >Product must have a category</small
        >
      </div>
    </div>

    <button type="submit" [disabled]="addProductForm.invalid">
      Add Product
    </button>

    <div *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
</div>
